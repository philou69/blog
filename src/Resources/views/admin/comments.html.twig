{% extends "admin/layout_comment.html.twig" %}

{% block title %}Commentaires{% endblock %}

{% block body_comment %}
    <h1>Les commentaires</h1>
    <div id="signaled">
        <table class="table table-striped table-hover">
            <thead>
            <tr class="succes row">
                <th class="col-sm-1">id</th>
                <th class="col-sm-3">commentaire</th>
                <th class="col-sm-2">publi√© par</th>
                <th class="col-sm-2">Date du post</th>
                <th class="col-sm-2">Etat</th>
                <th class="col-sm-1">Editer</th>
            </tr>
            </thead>
            <tbody>
            {% if comments |length == 0 %}
                <tr class="row">
                    <th colspan="6" class="text-center">Aucun commentaires</th>
                </tr>
            {% endif %}
            {% for comment in comments if comment.signaled == true %}
                <tr class="row">
                    <th class="col-sm-1">{{ comment.id }}</th>
                    <th class="col-sm-3">{{ comment.comment | slice(0,50) }}...</th>
                    <th class="col-sm-2">{{ comment.user.username }}</th>
                    <th class="col-sm-2">{{ comment.published_at | date('d/m/Y') }}</th>
                    <th class="col-sm-2">
                        Signaler<br/>
                        par : {{ comment.signaledBy.username }}<br/>
                        le : {{ comment.signaledAt | date('d/m/Y') }}

                    </th>
                    <th class="col-sm-1"><a href="/admin/comment/edit/{{ comment.id }}"
                                            class="btn btn-default btn-xs"><i
                                    class="glyphicon glyphicon-pencil"></i></a></th>
                </tr>
            {% endfor %}
            {% for comment in comments if comment.banished == true %}
                <tr class="row">
                    <th class="col-sm-1">{{ comment.id }}</th>
                    <th class="col-sm-3">{{ comment.comment | slice(0,50) }}...</th>
                    <th class="col-sm-2">{{ comment.user.username }}</th>
                    <th class="col-sm-2">{{ comment.published_at | date('d/m/Y') }}</th>
                    <th class="col-sm-2">
                        Bannie
                        par : {{ comment.banishedBy.username }}<br/>
                        le : {{ comment.banishedAt | date('d/m/Y') }}
                    </th>
                    <th class="col-sm-1"><a href="/admin/comment/edit/{{ comment.id }}"
                                            class="btn btn-default btn-xs"><i
                                    class="glyphicon glyphicon-pencil"></i></a></th>
                </tr>
            {% endfor %}
            {% for comment in comments if comment.signaled == false and comment.banished == false %}
                <tr class="row">
                    <th class="col-sm-1">{{ comment.id }}</th>
                    <th class="col-sm-3">{{ comment.comment | slice(0,50) }}...</th>
                    <th class="col-sm-2">{{ comment.user.username }}</th>
                    <th class="col-sm-2">{{ comment.published_at | date('d/m/Y') }}</th>
                    <th class="col-sm-2">
                        Normal
                    </th>
                    <th class="col-sm-1"><a href="/admin/comment/edit/{{ comment.id }}"
                                            class="btn btn-default btn-xs"><i
                                    class="glyphicon glyphicon-pencil"></i></a></th>
                </tr>
            {% endfor %}
            </tbody>

        </table>

    </div>
{% endblock %}