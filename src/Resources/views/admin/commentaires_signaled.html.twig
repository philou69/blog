{% extends "admin/layout.html.twig" %}

{% block title %}Commentaires signalés{% endblock %}

{% block commentaires %}
    {% include 'admin/commentaires_bar.html.twig' %}
{% endblock %}

{% block body %}
    <div class="well">
        <h1>Les commentaires</h1>
        <div id="signaled">
            <h3 class="text-center">Commentaires signaler</h3>
            <table class="table table-striped table-hover">
                <thead>
                <tr class="succes row">
                    <th class="col-sm-1">id</th>
                    <th class="col-sm-3">commentaire</th>
                    <th class="col-sm-3">publié par </th>
                    <th class="col-sm-2">Date du post</th>
                    <th class="col-sm-2">Etat </th>
                    <th class="col-sm-1">Editer Supprimer</th>
                </tr>
                </thead>
                <tbody>
                {% if listCommentaire|length == 0 %}
                    <tr class="row">
                        <th colspan="6" class="text-center">Aucun commentaires</th>
                    </tr>
                {% endif %}
                {% for commentaire in listCommentaire %}
                    <tr class="row">
                        <th class="col-sm-1">{{ commentaire.id }}</th>
                        <th class="col-sm-3">{{ commentaire.commentaire | slice(0,50)}}...</th>
                        <th class="col-sm-3">{{ commentaire.user.username }}</th>
                        <th class="col-sm-2">{{ commentaire.published_at | date('d/m/Y') }}</th>
                        <th class="col-sm-2">{% if commentaire.signaled == true %}Signaler{% elseif  commentaire.banished == true%}Bannie{% else %}Normal{% endif %}</th>
                        <th class="col-sm-1"><a href="/admin/commentaire/edit/{{ commentaire.id }}"><i class="glyphicon glyphicon-edit"></i></a></th>
                    </tr>
                {% endfor %}
                </tbody>

            </table>

        </div>

    </div>
{% endblock %}