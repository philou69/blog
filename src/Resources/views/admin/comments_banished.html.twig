{% extends "admin/layout.html.twig" %}

{% block title %}Commentaires signalés{% endblock %}

{% block comments %}
    {% include 'admin/comments_bar.html.twig' %}
{% endblock %}

{% block body %}
    <div class="well">
        <h1>Les comments</h1>
        <div id="signaled">
            <h3 class="text-center">Commentaires bannis</h3>
            <table class="table table-striped table-hover">
                <thead>
                <tr class="succes row">
                    <th class="col-sm-1">id</th>
                    <th class="col-sm-3">commentaire</th>
                    <th class="col-sm-3">publié par </th>
                    <th class="col-sm-2">Date du post</th>
                    <th class="col-sm-2">Etat </th>
                    <th class="col-sm-1">Editer Supprimer</th>
                </tr>
                </thead>
                <tbody>
                {% if comments|length == 0 %}
                    <tr class="row">
                        <th colspan="6" class="text-center">Aucun commentaires</th>
                    </tr>
                {% endif %}
                {% for comment in comments %}
                    <tr class="row">
                        <th class="col-sm-1">{{ comment.id }}</th>
                        <th class="col-sm-3">{{ comment.comment | slice(0,50)}}...</th>
                        <th class="col-sm-3">{{ comment.user.username }}</th>
                        <th class="col-sm-2">{{ comment.published_at | date('d/m/Y') }}</th>
                        <th class="col-sm-2">{% if comment.signaled == true %}Signaler{% elseif  comment.banished == true%}Bannie{% else %}Normal{% endif %}</th>
                        <th class="col-sm-1"><a href="/admin/comment/edit/{{ comment.id }}" class="btn btn-default btn-xs"><i class="glyphicon glyphicon-edit"></i></a></th>
                    </tr>
                {% endfor %}
                </tbody>

            </table>

        </div>

    </div>
{% endblock %}